{"version":3,"file":"script.js","mappings":"mBAEA,IAAIA,EACAC,EAEJ,MAAMC,EAAS,CACX,CACIC,KAAM,WACNC,QAAS,6DACTC,IAAK,CACD,CACIC,MAAO,YACPC,UAAW,UACXC,SAAU,IAAMC,GAAGC,IAAIC,QAAQ,yEAI3C,CACIR,KAAM,iBACNC,QAAS,kDACTC,IAAK,IAET,CACIF,KAAM,kBACNC,QAAS,8EACTC,IAAK,KA0Bb,SAASO,EAAUC,EAAkBC,GACjC,MAAMX,EAAOD,EAAOa,MAAMC,GACfA,EAAKb,MAAQU,SAEJ,IAATV,IAEPF,EAAeQ,GAAGQ,GAAGL,UAAUE,EAAWX,EAAKC,QAASD,EAAKE,MAGrE,SAASa,SACgBC,IAAjBlB,IACAA,EAAamB,QACbnB,OAAekB,GAlCvBV,GAAGY,KAAKC,YAAY,YAAY,KAC5BtB,EAAc,WACdY,EAAUZ,EAAaA,EAAc,YAEzCS,GAAGY,KAAKC,YAAY,YAAY,KAC5BtB,EAAc,WACdY,EAAUZ,EAAaA,EAAc,YAEzCS,GAAGY,KAAKE,aAAa,kBAAkBC,WAAU,KAC7CxB,EAAc,iBACdY,EAAUZ,EAAaA,EAAc,YAEzCS,GAAGY,KAAKE,aAAa,mBAAmBC,WAAU,KAC9CxB,EAAc,kBACdY,EAAUZ,EAAaA,EAAc,YAEzCS,GAAGY,KAAKI,YAAY,WAAYP,GAChCT,GAAGY,KAAKI,YAAY,WAAYP,GAChCT,GAAGY,KAAKK,aAAa,kBAAkBF,UAAUN,GACjDT,GAAGY,KAAKK,aAAa,mBAAmBF,UAAUN,I","sources":["webpack://workadventure-map-starter-kit/./src/index.ts"],"sourcesContent":["/// <reference path=\"../node_modules/@workadventure/iframe-api-typings/iframe_api.d.ts\" />\n\nlet currentZone: string;\nlet currentPopup: any = undefined;\n\nconst config = [\n    {\n        zone: 'needHelp',\n        message: 'Avez-vous besoin d\\'aide ? Nous serons ravis de vous aider.',\n        cta: [\n            {\n                label: 'Rejoindre',\n                className: 'primary',\n                callback: () => WA.nav.openTab('https://play.staging.workadventu.re/@/tcm/workadventure/wa-village'),\n            }\n        ]\n    },\n    {\n        zone: 'joystickTetris',\n        message: 'Jouez en solo. Votre partie n\\'est pas partagée.',\n        cta: []\n    },\n    {\n        zone: 'joystickSpyfall',\n        message: 'Pour jouer entre vous, entrez le même nom de \"room\" puis lancez la partie !',\n        cta: []\n    },\n]\n\nWA.room.onEnterZone('needHelp', () => {\n    currentZone = 'needHelp'\n    openPopup(currentZone, currentZone + 'Popup')\n});\nWA.room.onEnterZone('followUs', () => {\n    currentZone = 'followUs'\n    openPopup(currentZone, currentZone + 'Popup')\n});\nWA.room.onEnterLayer('joystickTetris').subscribe(() => {\n    currentZone = 'joystickTetris'\n    openPopup(currentZone, currentZone + 'Popup')\n});\nWA.room.onEnterLayer('joystickSpyfall').subscribe(() => {\n    currentZone = 'joystickSpyfall'\n    openPopup(currentZone, currentZone + 'Popup')\n});\nWA.room.onLeaveZone('needHelp', closePopup);\nWA.room.onLeaveZone('followUs', closePopup);\nWA.room.onLeaveLayer('joystickTetris').subscribe(closePopup);\nWA.room.onLeaveLayer('joystickSpyfall').subscribe(closePopup);\n\n\nfunction openPopup(zoneName: string, popupName: string) {\n    const zone = config.find((item) => {\n        return item.zone == zoneName\n    });\n    if (typeof zone !== 'undefined') {\n        // @ts-ignore otherwise we can't use zone.cta object\n        currentPopup = WA.ui.openPopup(popupName, zone.message, zone.cta)\n    }\n}\nfunction closePopup(){\n    if (currentPopup !== undefined) {\n        currentPopup.close();\n        currentPopup = undefined;\n    }\n}\n"],"names":["currentZone","currentPopup","config","zone","message","cta","label","className","callback","WA","nav","openTab","openPopup","zoneName","popupName","find","item","ui","closePopup","undefined","close","room","onEnterZone","onEnterLayer","subscribe","onLeaveZone","onLeaveLayer"],"sourceRoot":""}